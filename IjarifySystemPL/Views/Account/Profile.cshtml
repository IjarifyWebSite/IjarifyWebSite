@model IjarifySystemBLL.ViewModels.AccountViewModels.ProfileViewModel
@{
    ViewData["Title"] = "My Profile";
}

<main class="main">

    <!-- Page Title -->
    <div class="page-title">
        @* <div class="heading">
            <div class="container">
                <div class="row d-flex justify-content-center text-center">
                    <div class="col-lg-8">
                        <h1 class="heading-title">My Profile</h1>
                        <p class="mb-0">Manage your profile and view your activity on Ijarify</p>
                    </div>
                </div>
            </div>
        </div> *@
        <nav class="breadcrumbs mt-5">
            <div class="container">
                <ol>
                    <li><a asp-controller="Home" asp-action="Index">Home</a></li>
                    <li class="current">My Profile</li>
                </ol>
            </div>
        </nav>
    </div><!-- End Page Title -->
    <!-- Agent Profile Section -->
    <section id="agent-profile" class="agent-profile section agent-style">

        <div class="container" data-aos="fade-up" data-aos-delay="100">

            <!-- Profile Card -->
            <div class="agent-profile-card" data-aos="zoom-in" data-aos-delay="150">
                <div class="profile-background">
                    <img src="~/assets/img/real-estate/property-exterior-4.webp" alt="Background" class="profile-bg-image">
                </div>

                <div class="profile-content">
                    <div class="agent-avatar">
                        @if (!string.IsNullOrEmpty(Model.ProfileImageUrl))
                        {
                            <img src="@Model.ProfileImageUrl" alt="User" class="avatar-image">
                        }
                        else
                        {
                            <div class="avatar-image d-flex align-items-center justify-content-center" style="background: linear-gradient(135deg, #38b2ac, #2c7a7b); font-size: 60px; color: white;">
                                <i class="bi bi-person-fill"></i>
                            </div>
                        }
                        <div class="status-indicator">
                            <i class="bi bi-circle-fill"></i>
                            <span>Active</span>
                        </div>
                    </div>

                    <div class="agent-header">
                        <h1 class="agent-name">@Model.FullName</h1>
                        <div class="agent-credentials">
                            <span class="title">Ijarify Member</span>
                            <div class="verification-badge">
                                <i class="bi bi-patch-check-fill"></i>
                                <span>Verified User</span>
                            </div>
                        </div>

                        <div class="quick-stats">
                            <div class="quick-stat">
                                <span class="stat-value">@(Model.Reviews?.Count() ?? 0)</span>
                                <span class="stat-label">Reviews Posted</span>
                            </div>
                            <div class="quick-stat">
                                <span class="stat-value">0</span>
                                <span class="stat-label">Properties Viewed</span>
                            </div>
                            <div class="quick-stat">
                                <span class="stat-value">@Model.TotalBookings</span>
                                <span class="stat-label">Bookings</span>
                            </div>
                            <a asp-action="EditProfile" asp-controller="Account" class="edit-btn" style="text-decoration: none;">
                                <i class="bi bi-pencil me-1"></i> Edit Profile
                            </a>
                        </div>
                    </div>
                </div>
                <!-- في الـ Navbar أو Profile Dropdown -->
                <div class="profile-actions">

                    <div class="action-card">
                        <div class="action-icon">
                            <i class="bi bi-inbox"></i>
                        </div>
                        <div class="action-content">
                            <h4>Property Requests</h4>
                            <p>Manage booking requests on your properties</p>
                        </div>
                        <a asp-controller="Booking" asp-action="MyRequests" class="action-link">
                            <i class="bi bi-arrow-right"></i>
                        </a>
                    </div>
                </div>


            </div>

            <!-- Main Content Grid -->
            <div class="main-content-grid" data-aos="fade-up" data-aos-delay="200">

                <!-- Left Content -->
                <div class="content-main">
                    <!-- Reviews Section -->
                    <div class="col-lg-8">
                        <!-- Reviews Header -->
                        <div class="reviews-header reviews-toggle" onclick="toggleReviews()">
                            <div class="d-flex justify-content-between align-items-center flex-wrap">
                                <div>
                                    <h2 class="reviews-title">My Reviews</h2>
                                    <p class="reviews-subtitle mb-0">Share your experience with others</p>
                                </div>

                                <div class="d-flex align-items-center gap-3">
                                    <span class="reviews-count-badge">
                                        <i class="bi bi-star-fill me-1"></i>
                                        @(Model.Reviews?.Count() ?? 0)
                                    </span>

                                    <i id="reviewsArrow" class="bi bi-chevron-down toggle-arrow"></i>
                                </div>
                            </div>
                        </div>

                        <!-- Content -->
                        <div id="reviewsContent" class="reviews-content collapsed">

                            @if (Model.Reviews != null && Model.Reviews.Any())
                            {
                                <div class="reviews-list">
                                    @foreach (var item in Model.Reviews)
                                    {
                                        <div class="review-card" data-aos="fade-up" data-aos-delay="150">
                                            <h5 class="review-property-name">@item.PropertyName</h5>
                                            <div class="review-property-id">Property ID: #@item.PropertyId</div>

                                            <div class="review-rating">
                                                @for (int i = 1; i <= 5; i++)
                                                {
                                                    <i class="bi bi-star-fill star-icon @(i > item.Rating ? "empty" : "")"></i>
                                                }
                                            </div>

                                            <p class="review-comment">@item.Comment</p>

                                            <div class="review-actions">
                                                <form asp-controller="Review"
                                                      asp-action="Delete"
                                                      method="post"
                                                      onsubmit="return confirm('Are you sure you want to delete this review? This action cannot be undone.')"
                                                      class="flex-fill">
                                                    <input type="hidden" name="id" value="@item.ReviewId" />
                                                    <input type="hidden" name="propertyId" value="@item.PropertyId" />
                                                    <button type="submit" class="action-btn delete-btn w-100">
                                                        <i class="bi bi-trash me-2"></i>Delete Review
                                                    </button>
                                                </form>
                                            </div>
                                        </div>
                                    }
                                </div>
                            }
                            else
                            {
                                <div class="empty-state">
                                    <i class="bi bi-chat-dots empty-state-icon"></i>
                                    <p class="empty-state-text">
                                        You haven't written any reviews yet.<br />
                                        Start sharing your experience with properties!
                                    </p>
                                </div>
                            }

                        </div>
                    </div>

                    <!-- My Bookings Section -->
                    <div class="col-lg-8 mt-4">
                        <!-- Bookings Header -->
                        <div class="reviews-header reviews-toggle" onclick="toggleBookings()">
                            <div class="d-flex justify-content-between align-items-center flex-wrap">
                                <div>
                                    <h2 class="reviews-title">My Bookings</h2>
                                    <p class="reviews-subtitle mb-0">Track your reservations and booking history</p>
                                </div>

                                <div class="d-flex align-items-center gap-3">
                                    <span class="reviews-count-badge">
                                        <i class="bi bi-calendar-check me-1"></i>
                                        @Model.TotalBookings
                                    </span>

                                    <i id="bookingsArrow" class="bi bi-chevron-down toggle-arrow"></i>
                                </div>
                            </div>
                        </div>

                        <!-- Bookings Content -->
                        <div id="bookingsContent" class="reviews-content collapsed">
                            @if (Model.RecentBookings != null && Model.RecentBookings.Any())
                            {
                                <div class="bookings-list">
                                    @foreach (var booking in Model.RecentBookings)
                                    {
                                        <div class="booking-wrapper" data-aos="fade-up" data-aos-delay="100">
                                            @await Html.PartialAsync("~/Views/Booking/_BookingCard.cshtml", booking)
                                        </div>
                                    }
                                </div>

                                @if (Model.TotalBookings > 6)
                                {
                                    <div class="text-center mt-4 mb-3">
                                        <a asp-controller="Booking" asp-action="MyBookings" class="view-all-btn">
                                            <i class="bi bi-calendar-week me-2"></i>
                                            View All Bookings (@Model.TotalBookings)
                                            <i class="bi bi-arrow-right ms-2"></i>
                                        </a>
                                    </div>
                                }
                            }
                            else
                            {
                                <div class="empty-state">
                                    <i class="bi bi-calendar-x empty-state-icon"></i>
                                    <p class="empty-state-text">
                                        You haven't made any bookings yet.<br />
                                        Start exploring and book your next stay!
                                    </p>
                                    <a asp-controller="Property" asp-action="Index" class="browse-btn">
                                        <i class="bi bi-search me-2"></i>Browse Properties
                                    </a>
                                </div>
                            }
                        </div>
                    </div>

                    <!-- My Inquiries Section -->
                    <div class="col-lg-8 mt-4">
                        <!-- Inquiries Header -->
                        <div class="reviews-header reviews-toggle" onclick="toggleInquiries()">
                            <div class="d-flex justify-content-between align-items-center flex-wrap">
                                <div>
                                    <h2 class="reviews-title">My Inquiries</h2>
                                    <p class="reviews-subtitle mb-0">Messages you've sent to property owners</p>
                                </div>

                                <div class="d-flex align-items-center gap-3">
                                    <span class="reviews-count-badge">
                                        <i class="bi bi-envelope-fill me-1"></i>
                                        @Model.TotalInquiries
                                    </span>

                                    <i id="inquiriesArrow" class="bi bi-chevron-down toggle-arrow"></i>
                                </div>
                            </div>
                        </div>

                        <!-- Inquiries Content -->
                        <div id="inquiriesContent" class="reviews-content collapsed">
                            @if (Model.RecentInquiries != null && Model.RecentInquiries.Any())
                            {
                                <div class="inquiries-list">
                                    @foreach (var inquiry in Model.RecentInquiries)
                                    {
                                        <div class="inquiry-profile-card" data-aos="fade-up" data-aos-delay="150">
                                            <div class="inquiry-card-header">
                                                <div class="inquiry-property-info">
                                                    <i class="bi bi-building"></i>
                                                    <div>
                                                        <h5 class="inquiry-property-name">
                                                            <a asp-controller="Property" asp-action="Details" asp-route-id="@inquiry.PropertyId" class="text-decoration-none">
                                                                @inquiry.PropertyTitle
                                                            </a>
                                                        </h5>
                                                        <span class="inquiry-location"><i class="bi bi-geo-alt me-1"></i>@inquiry.PropertyLocation</span>
                                                    </div>
                                                </div>
                                                <div class="inquiry-date">
                                                    <i class="bi bi-clock me-1"></i>@inquiry.CreatedAt.ToString("MMM dd, yyyy")
                                                </div>
                                            </div>

                                            <div class="inquiry-message-box">
                                                <i class="bi bi-chat-quote"></i>
                                                <p>@inquiry.Message</p>
                                            </div>

                                            <div class="inquiry-card-footer">
                                                <div class="inquiry-owner">
                                                    <small class="text-muted">To:</small>
                                                    <span class="fw-bold ms-1">@inquiry.PropertyOwnerName</span>
                                                </div>
                                                <div class="inquiry-actions-btns">
                                                    <a asp-controller="Inquiry" asp-action="Details" asp-route-id="@inquiry.InquiryId" class="action-btn inquiry-view-btn">
                                                        <i class="bi bi-eye me-1"></i>View
                                                    </a>
                                                    <button class="action-btn inquiry-delete-btn" onclick="deleteInquiry(@inquiry.InquiryId, 4)">
                                                        <i class="bi bi-trash me-1"></i>Delete
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    }
                                </div>

                                    <div class="text-center mt-4 mb-3">
                                        <a asp-controller="Inquiry" asp-action="Index" class="view-all-btn">
                                            <i class="bi bi-envelope me-2"></i>
                                            View All Inquiries (@Model.TotalInquiries)
                                            <i class="bi bi-arrow-right ms-2"></i>
                                        </a>
                                    </div>
                            }
                            else
                            {
                                <div class="empty-state">
                                    <i class="bi bi-envelope-x empty-state-icon"></i>
                                    <p class="empty-state-text">
                                        You haven't sent any inquiries yet.<br />
                                        Browse properties and ask owners your questions!
                                    </p>
                                    <a asp-controller="Property" asp-action="Index" class="browse-btn">
                                        <i class="bi bi-search me-2"></i>Browse Properties
                                    </a>
                                </div>
                            }
                        </div>
                    </div>
                    <!-- Offers Section -->
<div class="col-lg-8 mt-4">
    <!-- Offers Header -->
    <div class="reviews-header">
        <div class="d-flex justify-content-between align-items-center flex-wrap">
            <div>
                <h2 class="reviews-title">My Offers</h2>
                <p class="reviews-subtitle mb-0">Manage your property bids and offers</p>
            </div>
            <div>
            <a href="@Url.Action("MyOffers", "Offer")" class="btn-offers">
                  View My Offers <i class="bi bi-arrow-right ms-2"></i>
             </a>
             </div>
            
        </div>
    </div>
    </div>
                </div>
                <!-- End Left Content -->
                <!-- Right Sidebar -->
                <div class="content-sidebar ">

                    <!-- Add Property Card -->
                    <div class="col-lg-12 ">
                        <div class="add-property-card">
                            <div class="add-property-icon">
                                <i class="bi bi-house-add-fill"></i>
                            </div>
                            <div class="add-property-content">
                                <h4 class="text-white">List Your Property</h4>
                                <p>Have a property to rent or sell? Add it now!</p>
                            </div>
                            <a asp-controller="Property" asp-action="Create" class="btn-add-property">
                                <i class="bi bi-plus-circle-fill"></i>
                                Add Property
                            </a>
                        </div>
                    </div>
                    <!-- Contact Widget -->
                    <div class="contact-widget mt-3">
                        <h4>Let's Connect</h4>

                        <div class="contact-methods">

                            <!-- Phone -->
                            <a href="tel:@Model.PhoneNumber" class="contact-method primary">
                                <i class="bi bi-telephone-fill"></i>
                                <div>
                                    <span class="method-label">Call Now</span>
                                    <span class="method-value">@Model.PhoneNumber</span>
                                </div>
                            </a>

                            <!-- Email -->
                            <a href="mailto:@Model.Email" class="contact-method">
                                <i class="bi bi-envelope-fill"></i>
                                <div>
                                    <span class="method-label">Email</span>
                                    <span class="method-value">@Model.Email</span>
                                </div>
                            </a>

                            <!-- WhatsApp -->
                            <a href="https://wa.me/@Model.WhatsApp" target="_blank" class="contact-method">
                                <i class="bi bi-whatsapp"></i>
                                <div>
                                    <span class="method-label">WhatsApp</span>
                                    <span class="method-value">@Model.WhatsApp</span>
                                </div>
                            </a>

                            <!-- Address -->
                            <a href="https://www.google.com/maps/search/@Model.Address" target="_blank" class="contact-method">
                                <i class="bi bi-geo-alt-fill"></i>
                                <div>
                                    <span class="method-label">Address</span>
                                    <span class="method-value">@Model.Address</span>
                                </div>
                            </a>


                        </div>
                    </div>

                    <!-- Quick Stats -->
                    <div class="achievements-widget">
                        <h4>Activity Summary</h4>
                        <div class="achievement-list">
                            <div class="achievement-item">
                                <div class="achievement-icon">
                                    <i class="bi bi-star-fill"></i>
                                </div>
                                <div class="achievement-text">
                                    <h6>Reviews Posted</h6>
                                    <span>@(Model.Reviews?.Count() ?? 0) Total</span>
                                </div>
                            </div>

                            <div class="achievement-item">
                                <div class="achievement-icon">
                                    <i class="bi bi-heart-fill"></i>
                                </div>
                                <div class="achievement-text">
                                    <h6>Favorite Properties</h6>
                                    <span>0 Saved</span>
                                </div>
                            </div>

                            <div class="achievement-item">
                                <div class="achievement-icon">
                                    <i class="bi bi-calendar-check-fill"></i>
                                </div>
                                <div class="achievement-text">
                                    <h6>Bookings</h6>
                                    <span>@Model.TotalBookings Total</span>
                                </div>
                            </div>

                            <div class="achievement-item">
                                <div class="achievement-icon">
                                    <i class="bi bi-envelope-fill"></i>
                                </div>
                                <div class="achievement-text">
                                    <h6>Inquiries</h6>
                                    <span>@Model.TotalInquiries Sent</span>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>

            </div>

        </div>

    </section><!-- /Agent Profile Section -->

</main>

<!-- Delete Confirmation Modal -->
<div class="modal fade" id="deleteModal" tabindex="-1" aria-labelledby="deleteModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content border-0 shadow">
            <div class="modal-header border-0 pb-0">
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body text-center px-4 pb-4">
                <div class="mb-4">
                    <div class="rounded-circle bg-danger bg-opacity-10 d-inline-flex align-items-center justify-content-center" style="width: 80px; height: 80px;">
                        <i class="bi bi-trash text-danger" style="font-size: 2.5rem;"></i>
                    </div>
                </div>
                <h4 class="mb-3">Delete Inquiry?</h4>
                <p class="text-muted mb-0">Are you sure you want to delete this inquiry? This action cannot be undone.</p>
            </div>
            <div class="modal-footer border-0 justify-content-center gap-2 pt-0 pb-4">
                <button type="button" class="btn btn-light px-4" data-bs-dismiss="modal">
                    <i class="bi bi-x-lg me-1"></i> Cancel
                </button>
                <button type="button" class="btn btn-danger px-4" id="confirmDeleteBtn">
                    <i class="bi bi-trash me-1"></i> Delete
                </button>
            </div>
        </div>
    </div>
</div>

<style>
    .agent-style
    {
       margin-top:-10px;
    }
    .btn-offers
    {
         
        background: linear-gradient(135deg, #38b2ac 0%, #2c7a7b 100%);
        color: #fff;
        padding: 8px 20px;
        border-radius: 20px;
        font-weight: 600;
        font-size: 14px;
        display: inline-block;
    
    }
     .btn-offers:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 16px rgba(44, 122, 123, 0.3);
        color: white;
    } 
    .profile-actions {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(auto, auto));
        gap: 20px;
        margin: 30px 0;
    }

    .action-card {
        background: white;
        margin-left:20px;
        padding: 24px;
        border-radius: 16px;
        display: flex;
        align-items: center;
        gap: 16px;
        box-shadow: 0 4px 20px rgba(0,0,0,0.08);
        transition: all 0.3s;
        position: relative;
        width:fit-content;

    }

        .action-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 30px rgba(0,0,0,0.12);
        }

    .action-icon {
        width: 56px;
        height: 56px;
        background: linear-gradient(135deg, #38b2ac 0%, #2c7a7b 100%);
        border-radius: 14px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 28px;
        flex-shrink: 0;
    }

    .action-content h4 {
        font-size: 18px;
        font-weight: 700;
        color: #0f172a;
        margin-bottom: 6px;
    }

    .action-content p {
        font-size: 14px;
        color: #64748b;
        margin: 0;
    }

    .action-link {
        margin-left: auto;
        width: 40px;
        height: 40px;
        background: #f1f5f9;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        color: #0d9488;
        font-size: 20px;
        text-decoration: none;
        transition: all 0.3s;
    }

        .action-link:hover {
            background: #0d9488;
            color: white;
        }

    .edit-btn {
        background: linear-gradient(135deg, #38b2ac 0%, #2c7a7b 100%);
        color: #fff;
        border: none;
        padding: 8px 22px;
        font-size: 14px;
        border-radius: 12px;
        font-weight: 600;
        width: fit-content;
        margin-left: auto;
        align-self: center;
        transition: all 0.3s ease;
        box-shadow: 0 4px 12px rgba(44, 122, 123, 0.3);
    }

        .edit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(44, 122, 123, 0.4);
            color: #fff;
        }

    .reviews-toggle {
        cursor: pointer;
    }

    .reviews-content {
        overflow: hidden;
        transition: max-height 0.5s ease, opacity 0.4s ease;
    }

        .reviews-content.collapsed {
            max-height: 0;
            opacity: 0;
            pointer-events: none;
        }

        .reviews-content.expanded {
            max-height: 3000px;
            opacity: 1;
        }

    .toggle-arrow {
        font-size: 20px;
        color: #2c7a7b;
        transition: transform 0.3s ease;
    }

        .toggle-arrow.rotate {
            transform: rotate(180deg);
        }

    .reviews-header {
        background: #fff;
        border-radius: 24px;
        padding: 32px;
        margin-bottom: 30px;
        box-shadow: 0 4px 20px rgba(0,0,0,0.06);
    }

    .reviews-title {
        font-size: 32px;
        font-weight: 700;
        color: #1a1a1a;
        margin-bottom: 8px;
    }

    .reviews-subtitle {
        color: #6c757d;
        font-size: 15px;
    }

    .reviews-count-badge {
        background: linear-gradient(135deg, #38b2ac 0%, #2c7a7b 100%);
        color: #fff;
        padding: 8px 20px;
        border-radius: 20px;
        font-weight: 600;
        font-size: 14px;
        display: inline-block;
    }

    .review-card {
        background: #fff;
        border-radius: 20px;
        padding: 28px;
        margin-bottom: 24px;
        transition: all 0.3s ease;
        border-left: 4px solid transparent;
    }

        .review-card:hover {
            transform: translateX(8px);
            box-shadow: 0 3px 10px rgba(0,0,0,0.12);
            border-left-color: #38b2ac;
        }

    .review-property-name {
        font-size: 20px;
        font-weight: 700;
        color: #1a1a1a;
        margin-bottom: 6px;
    }

    .review-property-id {
        font-size: 13px;
        color: #6c757d;
        margin-bottom: 16px;
    }

    .review-rating {
        margin-bottom: 16px;
    }

    .star-icon {
        color: #ffc107;
        font-size: 18px;
        margin-right: 2px;
    }

        .star-icon.empty {
            color: #e9ecef;
        }

    .review-comment {
        color: #495057;
        line-height: 1.7;
        margin-bottom: 20px;
        font-size: 15px;
    }

    .review-actions {
        display: flex;
        gap: 12px;
        padding-top: 20px;
        border-top: 1px solid #f1f3f5;
    }

    .action-btn {
        flex: 1;
        padding: 12px 24px;
        border-radius: 12px;
        font-weight: 600;
        font-size: 14px;
        transition: all 0.3s ease;
        text-decoration: none;
        text-align: center;
        border: none;
    }

    .delete-btn {
        background: linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%);
        color: #e74c3c;
    }

        .delete-btn:hover {
            background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%);
            color: #c0392b;
            transform: translateY(-2px);
        }

    .empty-state {
        text-align: center;
        padding: 80px 20px;
        background: #fff;
        border-radius: 20px;
        box-shadow: 0 4px 16px rgba(0,0,0,0.06);
    }

    .empty-state-icon {
        font-size: 80px;
        color: #e9ecef;
        margin-bottom: 24px;
    }

    .empty-state-text {
        color: #6c757d;
        font-size: 16px;
    }

    .quick-stats {
        gap: 30px !important;
    }

    /* Bookings Styles */
    .bookings-list {
        display: flex;
        flex-direction: column;
        gap: 24px;
        margin-top: 20px;
    }

    .booking-wrapper {
        width: 100%;
    }

        .booking-wrapper .booking-card-modern {
            width: 100%;
            max-width: 100%;
        }

    .view-all-btn {
        display: inline-flex;
        align-items: center;
        background: linear-gradient(135deg, #38b2ac 0%, #2c7a7b 100%);
        color: #fff;
        padding: 14px 32px;
        border-radius: 14px;
        font-weight: 600;
        font-size: 15px;
        text-decoration: none;
        transition: all 0.3s ease;
        box-shadow: 0 4px 16px rgba(44, 122, 123, 0.3);
    }

        .view-all-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(44, 122, 123, 0.3);
            color: white;
        }

    .browse-btn {
        display: inline-flex;
        align-items: center;
        background: linear-gradient(135deg, #38b2ac 0%, #2c7a7b 100%);
        color: #fff;
        padding: 12px 28px;
        border-radius: 12px;
        font-weight: 600;
        font-size: 14px;
        text-decoration: none;
        margin-top: 24px;
        transition: all 0.3s ease;
    }

        .browse-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(44, 122, 123, 0.3);
            color: white;
        }

    /* Inquiry Card Styles */
    .inquiries-list {
        display: flex;
        flex-direction: column;
        gap: 20px;
        margin-top: 20px;
    }

    .inquiry-profile-card {
        background: #fff;
        border-radius: 20px;
        padding: 24px 28px;
        transition: all 0.3s ease;
        border-left: 4px solid transparent;
    }

        .inquiry-profile-card:hover {
            transform: translateX(8px);
            box-shadow: 0 3px 10px rgba(0,0,0,0.12);
            border-left-color: #38b2ac;
        }

    .inquiry-card-header {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        margin-bottom: 16px;
        flex-wrap: wrap;
        gap: 10px;
    }

    .inquiry-property-info {
        display: flex;
        align-items: center;
        gap: 12px;
    }

        .inquiry-property-info > i {
            font-size: 28px;
            color: #2c7a7b;
            background: linear-gradient(135deg, #e6fffa, #b2f5ea);
            padding: 10px;
            border-radius: 12px;
        }

    .inquiry-property-name {
        font-size: 18px;
        font-weight: 700;
        color: #1a1a1a;
        margin-bottom: 2px;
    }

        .inquiry-property-name a {
            color: #1a1a1a;
            transition: color 0.2s;
        }

            .inquiry-property-name a:hover {
                color: #2c7a7b;
            }

    .inquiry-location {
        font-size: 13px;
        color: #6c757d;
    }

    .inquiry-date {
        font-size: 13px;
        color: #6c757d;
        white-space: nowrap;
    }

    .inquiry-message-box {
        background: linear-gradient(135deg, #f7fafc, #edf2f7);
        border-radius: 14px;
        padding: 16px 20px;
        margin-bottom: 16px;
        display: flex;
        gap: 12px;
        align-items: flex-start;
    }

        .inquiry-message-box > i {
            color: #38b2ac;
            font-size: 20px;
            margin-top: 2px;
            flex-shrink: 0;
        }

        .inquiry-message-box p {
            margin: 0;
            color: #495057;
            line-height: 1.6;
            font-size: 14px;
        }

    .inquiry-card-footer {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding-top: 14px;
        border-top: 1px solid #f1f3f5;
        flex-wrap: wrap;
        gap: 10px;
    }

    .inquiry-owner {
        font-size: 14px;
        color: #495057;
    }

    .inquiry-actions-btns {
        display: flex;
        gap: 8px;
    }

    .inquiry-view-btn {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        background: linear-gradient(135deg, #e6fffa 0%, #b2f5ea 100%);
        color: #2c7a7b;
        padding: 8px 18px;
        border-radius: 10px;
        font-size: 13px;
        font-weight: 600;
        text-decoration: none;
        transition: all 0.3s ease;
    }

        .inquiry-view-btn:hover {
            background: linear-gradient(135deg, #b2f5ea 0%, #81e6d9 100%);
            color: #234e52;
            transform: translateY(-2px);
        }

    .inquiry-delete-btn {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        background: linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%);
        color: #e74c3c;
        padding: 8px 18px;
        border-radius: 10px;
        font-size: 13px;
        font-weight: 600;
        text-decoration: none;
        border: none;
        transition: all 0.3s ease;
    }

        .inquiry-delete-btn:hover {
            background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%);
            color: #c0392b;
            transform: translateY(-2px);
        }

    @@media (max-width: 768px) {
        .review-header {
            flex-direction: column;
        }

        .review-rating {
            margin-top: 10px;
        }

        .bookings-list {
            gap: 16px;
        }

        .inquiry-card-header {
            flex-direction: column;
        }

        .inquiry-card-footer {
            flex-direction: column;
            align-items: flex-start;
        }
    }
</style>

<script>
    function toggleReviews() {
        const content = document.getElementById("reviewsContent");
        const arrow = document.getElementById("reviewsArrow");

        content.classList.toggle("collapsed");
        content.classList.toggle("expanded");
        arrow.classList.toggle("rotate");
    }

    function toggleBookings() {
        const content = document.getElementById("bookingsContent");
        const arrow = document.getElementById("bookingsArrow");

        content.classList.toggle("collapsed");
        content.classList.toggle("expanded");
        arrow.classList.toggle("rotate");
    }

    function toggleInquiries() {
        const content = document.getElementById("inquiriesContent");
        const arrow = document.getElementById("inquiriesArrow");

        content.classList.toggle("collapsed");
        content.classList.toggle("expanded");
        arrow.classList.toggle("rotate");
    }

    var deleteInquiryId = null;
    var deleteUserId = null;

    function deleteInquiry(inquiryId, userId) {
        deleteInquiryId = inquiryId;
        deleteUserId = userId;
        var deleteModal = new bootstrap.Modal(document.getElementById('deleteModal'));
        deleteModal.show();
    }

    // Handle confirm delete button click
    document.getElementById('confirmDeleteBtn').addEventListener('click', function() {
        if (deleteInquiryId === null) return;

        var modal = bootstrap.Modal.getInstance(document.getElementById('deleteModal'));
        
        $.ajax({
            url: '@Url.Action("Delete", "Inquiry")',
            type: 'POST',
            data: {
                id: deleteInquiryId,
                userId: deleteUserId
            },
            success: function(response) {
                modal.hide();
                
                if (response.success) {
                    // Hide the card with animation
                    // Note: Profile cards don't have data-inquiry-id attribute yet, so we need to reload or find parent
                    // Ideally we should add data-inquiry-id to the card
                    
                    // For now, since we want it "like index", let's reload to update counts and lists accurately
                    // Or we can try to remove the element if we can select it
                    
                    location.reload(); 

                    // Ideally: remove element and update counts without reload, but reload is safer for Profile stats
                } else {
                    showNotification(response.message, 'error');
                }
                
                deleteInquiryId = null;
                deleteUserId = null;
            },
            error: function() {
                modal.hide();
                showNotification('An error occurred while deleting the inquiry', 'error');
                deleteInquiryId = null;
                deleteUserId = null;
            }
        });
    });

    function showNotification(message, type) {
        var alertClass = type === 'success' ? 'alert-success' : 'alert-danger';
        var icon = type === 'success' ? 'bi-check-circle' : 'bi-exclamation-triangle';

        var notification = $('<div class="alert ' + alertClass + ' alert-dismissible fade show position-fixed" style="top: 20px; right: 20px; z-index: 9999; min-width: 300px; border-radius: 10px; box-shadow: 0 4px 12px rgba(0,0,0,0.15);" role="alert">' +
            '<i class="' + icon + ' me-2"></i>' + message +
            '<button type="button" class="btn-close" data-bs-dismiss="alert"></button>' +
            '</div>');

        $('body').append(notification);

        setTimeout(function() {
            notification.alert('close');
        }, 3000);
    }
</script>
<style>
        .add-property-card {
        background: linear-gradient(135deg, #38b2ac 0%, #2c7a7b 100%);
        border-radius: 20px;
        padding: 32px;
        display: flex;
        align-items: center;
        gap: 24px;
        box-shadow: 0 8px 30px rgba(13, 148, 136, 0.3);
        margin-bottom:1
    }

    .add-property-icon {
        width: 80px;
        height: 80px;
        background: rgba(255, 255, 255, 0.2);
        border-radius: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
        
    }

    .add-property-icon i {
        font-size: 40px;
        color: white;
    }

    .add-property-content {
        flex: 1;
        color: white;
    }

    .add-property-content h4 {
        font-size: 24px;
        font-weight: 700;
        margin-bottom: 8px;
    }

    .add-property-content p {
        font-size: 15px;
        margin: 0;
    }

    .btn-add-property {
        display: flex;
        align-items: center;
        gap: 10px;
        background: white;
        color: #0d9488;
        padding: 16px 32px;
        border-radius: 14px;
        font-weight: 700;
        text-decoration: none;
    }

    .btn-add-property:hover {
        color: #115e59;
        transform: translateY(-2px);
    }

@@media (max-width: 768px) {
        .add-property-card {
            flex-direction: column;
            text-align: center;
            
        }
    }
</style>
